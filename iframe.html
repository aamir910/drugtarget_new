<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Document</title>
    <style>
        iframe {
            margin-left: 30%;
            width: 70%;
            /* height: 395px; */
            border: 1px solid #ccc;
        }
    </style>
</head>
<body style="height: 100px;">
    <h1>Embedding an Iframe</h1>

    <iframe id="myIframe" src="index2.html" title="Iframe Example"></iframe>

    <script>
  document.addEventListener('DOMContentLoaded', (event) => {
    function updateIframeHeight() {
        // Retrieve data from localStorage
        const storedData = localStorage.getItem('jsonData');

        if (storedData) {
            let data = JSON.parse(storedData);
            
            console.log("before", data);
            console.log(data, 'Data retrieved from localStorage:');
            if (data > 300) { 
                data = 1180;
                console.log("after", data);
            } 

            var iframe = document.getElementById('myIframe');
            iframe.style.height = data + 'px';

            // Process your data here
        } else {
            console.error('No data found in localStorage');
        }
    }

    // Initial load
    updateIframeHeight();

    // Listen for changes to localStorage
    window.addEventListener('storage', (event) => {
        if (event.key === 'jsonData') {
            console.log('check the storage of the data ')
            updateIframeHeight();
        }
    });
});

    </script>
</body>
</html>
